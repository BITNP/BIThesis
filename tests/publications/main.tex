\documentclass[type=doctor]{bithesis}

\BITSetup{}

\usepackage[
  defernumbers,
  backend=biber,
  style=gb7714-2015,
  gbalign=gb7714-2015,
  gbnamefmt=lowercase,
  gbpub=false,
  gbannote=true,
  doi=false,
  url=false,
  eprint=false,
  isbn=false,
]{biblatex}

\addbibresource{pub.bib}

\begin{document}

% Test traditional approach with addpubs
\begin{publications}
  \addpubs{a1,a2,a3,a4}
  \printbibliography[heading=none,category=mypub,resetnumbers=true,keyword=a]
\end{publications}

% Test new refsection approach
\begin{refsection}[pub.bib]
  \begin{publications}
    % 使用 \nocite{*} 自动包含所有条目，无需手动 \addpubs
    \nocite{*}
    
    % Test filtering with keywords to match previous behavior 
    如果想要分为多个列表，可以使用以下的命令。
    主要针对博士生。
    \pubsection{文章}

    \printbibliography[heading=none,type=article,resetnumbers=true,notkeyword=a]{}

    \pubsection{一些书}

    \printbibliography[heading=none,type=book,resetnumbers=true,notkeyword=dummy,notkeyword=a]{}

    \pubsection{另一些书}

    \printbibliography[heading=none,type=book,keyword=dummy,resetnumbers=true,notkeyword=a]{}
  \end{publications}
\end{refsection}

\end{document}
